Higgs Boson Machine Learning Challenge
========================================================

The goal of this challenge is to identify which simulated ATLAS experiment proton-proton collision
observations contain evidence of boson pairs ("signal"), and which do not ("background"). 

The challenge is [hosted by Kaggle](http://www.kaggle.com/c/higgs-boson) and provided by [The Atlas Experiment](http://atlas.ch/).  Technical details are found in the [Laboratoire de l’Accélerateur Linéaire](http://higgsml.lal.in2p3.fr/) technical documentation [PDF](http://higgsml.lal.in2p3.fr/files/2014/04/documentation_v1.5.pdf)

# The Data

Provided were a training set of 250,000 observations and a test set of 500,000 observations.
Unusable or unknown quantities are reported as -999.0.

The variables include 17 "primitive" quantities and 13 "derived" quantities. Also included
is the EventId identifying the observation. The training set also includes the goal label (b or s)
and a "Weight" metric not to be used in classification. For this reason I've stripped it out 
of the training set and saved a new CSV as processed_train.csv

## The Variables
```{r load_data, cache=TRUE}
    train <- read.csv("data/processed/processed_train.csv")
    names(train)
    signal <- which(train$Label=="s")
```
```{r load_libraries}
    require(ggplot2)
```
```{r plot_function}
    create_plot <- function(data, v) {
        p <- ggplot(data, aes(x=EventId, y=data[,v], color=Label), environment=environment())
        l <- p + labs(y=v)
        print(l + geom_point())
    }
```


### Primitives

**PRI_tau_pt**

The transverse momentum $\sqrt{p^2_x+p^2_y}$, or the momentum perpendicular to the beam line, of the hadronic tau measured in GeV

```{r pri_tau_pt_fig, fig.width=8, cache=TRUE}
    create_plot(train, "PRI_tau_pt")
```
```{r pri_tau_pt}
    ptp <- train$PRI_tau_pt
    summary(ptp)
```
Most observations are < 175 GeV, let's replot on that subset
```{r subset_ptp_175, fig.width=8, cache=TRUE}
    ptp.175 <- subset(train, PRI_tau_pt < 175)
    create_plot(ptp.175, "PRI_tau_pt")
```
It looks like the slower the transverse momentum, the more likely the observation is background noise. Let's replot for < 50
```{r subset_ptp_50, fig.width=8, cache=TRUE}
    ptp.50 <- subset(train, PRI_tau_pt < 50)
    create_plot(ptp.50, "PRI_tau_pt")
```
**PRI_tau_eta**

The pseudorapidity η (the angle from the beam axis) of the hadronic tau.

```{r pri_tau_eta_fig, fig.width=8, cache=TRUE}
    create_plot(train, "PRI_tau_eta")
```
It looks like a higher quantity of signal observations exist within -1.5 to 1.5 than outside this range.
```{r pri_tau_eta_in_range}
    signal.obs <- subset(train, Label == "s", select = PRI_tau_eta)
    # quantity signal in range -1.5 to 1.5
    in.range <- subset(signal.obs, PRI_tau_eta >= -1.5 & PRI_tau_eta <= 1.5)
    nrow(in.range)/nrow(signal.obs)
```
Almost 80% of signal observations fall in the -1.5 to 1.5 range. Is it also more likely that an
observation outside of this range is background?
```{r pri_tau_eta_out_range}
    outside.range <- subset(train, PRI_tau_eta < -1.5 | PRI_tau_eta > 1.5, select=Label)
    table(outside.range)
    length(which(outside.range=="b"))/nrow(outside.range)
```
About 74% of observations outside the range -1.5 to 1.5 are background noise.

**PRI_tau_phi**

The azimuthal angle φ, from -pi to pi in the spherical coordinate system, of the hadronic tau 
around the beam axis.

```{r pri_tau_phi_fig, fig.width=8, cache=TRUE}
    create_plot(train, "PRI_tau_phi")
```
```{r pri_tau_phi}
    # all observations
    summary(train$PRI_tau_phi)
    # just the signal
    summary(train[signal,"PRI_tau_phi"])
    # just the background
    summary(train[-signal,"PRI_tau_phi"])
```
**PRI_lep_pt**

The transverse momentum $\sqrt{p^2_x+p^2_y}$, or the momentum perpendicular to the beam line, of the lepton (electron or muon) measured in GeV

```{r pri_lep_pt_fig, fig.width=8, cache=TRUE}
    create_plot(train, "PRI_lep_pt")
```
Replotting to < 200
```{r pri_lep_pt_200, fig.width=8, cache=TRUE}
    plp.200 <- subset(train, PRI_lep_pt < 200)
    create_plot(plp.200, "PRI_lep_pt")
```
```{r pri_lep_pt}
    summary(train$PRI_lep_pt)
```
**PRI_lep_eta**

The pseudorapidity η (the angle from the beam axis) of the lepton.

```{r pri_lep_eta_fig, fig.width=8, cache=TRUE}
    create_plot(train, "PRI_lep_eta")
```
Just as with the pseudorapidity of the hadronic tau it appears the signal
clusters in the range of -1.5 to 1.5
```{r pri_lep_eta_in_range}
    signal.obs <- subset(train, Label == "s", select = PRI_lep_eta)
    # quantity signal in range -1.5 to 1.5
    in.range <- subset(signal.obs, PRI_lep_eta >= -1.5 & PRI_lep_eta <= 1.5)
    nrow(in.range)/nrow(signal.obs)
```
Aabout 78% of signal observations fall in the -1.5 to 1.5 range. 

```{r pri_lep_eta_out_range}
    outside.range <- subset(train, PRI_lep_eta < -1.5 | PRI_lep_eta > 1.5, select=Label)
    table(outside.range)
    length(which(outside.range=="b"))/nrow(outside.range)
```
About 75% of observations outside the range -1.5 to 1.5 are background noise.

**PRI_lep_phi**

The azimuthal angle φ, from -pi to pi in the spherical coordinate system, of the lepton 
around the beam axis.

```{r pri_lep_phi_fig, fig.width=8, cache=TRUE}
    create_plot(train, "PRI_lep_phi")
```
```{r pri_lep_phi}
        # all observations
    summary(train$PRI_lep_phi)
    # just the signal
    summary(train[signal,"PRI_lep_phi"])
    # just the background
    summary(train[-signal,"PRI_lep_phi"])
```
**PRI_met**
The missing transverse energy $\overrightarrow{E}^{miss}_T$ 

```{r pri_met, fig.width=8, cache=TRUE}
    create_plot(train, "PRI_met")
```
```{r pri_met_summary}
    summary(train$PRI_met)
    # just the signal
    summary(train[signal,"PRI_met"])
    # just the background
    summary(train[-signal,"PRI_met"])
```
That one outlier really makes this blurry...
```{r pri_met_500, fig.width=8, cache=TRUE}
    pm.500 <- subset(train, PRI_met < 500)
    create_plot(pm.500, "PRI_met")
```
```{r pri_met_200, fig.width=8, cache=TRUE}
    pm.200 <- subset(train, PRI_met < 200)
    create_plot(pm.200, "PRI_met")
```
```{r pri_met_100, fig.width=8, cache=TRUE}
    pm.100 <- subset(train, PRI_met < 100)
    create_plot(pm.100, "PRI_met")
```
There appears to be a lot of signal clustered < 25
```{r pri_met_signal_25}
    under.25 <- subset(train[signal,], PRI_met < 25)
    nrow(under.25)/length(signal)
```
About 38% of the signal is < 25 






